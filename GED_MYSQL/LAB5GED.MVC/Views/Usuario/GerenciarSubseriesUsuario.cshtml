@model LAB5GED.DOMAIN.Entidades.Usuario
@{

    List<LAB5GED.DOMAIN.Entidades.Classe> _classes = new LAB5GED.DOMAIN.DAO.Business.ClasseBO().GetClassesAtivasComID();
    List<LAB5GED.DOMAIN.Entidades.Subserie> _subseriesDisponiveis = new LAB5GED.DOMAIN.DAO.Business.UsuarioBO().GetSubseriesDisponiveis(Model.Registro);
}
<script src="~/Scripts/libscripts.js"></script>






<h2>Configurar Subséries do Usuário</h2>
<label>Usuário: @Model.NomeUsuario</label><br />
<label>Login: @Model.Login</label>
<hr />

@using (Ajax.BeginForm("ListarSubseriesDisponiveisUsuario", new AjaxOptions
{
    InsertionMode=InsertionMode.Replace,
    UpdateTargetId="resultado"
}))

@*form*@
{

    @*filtros*@
    <div class="row">
        <div class="col-lg-1">
            <div class="form-group">
                @Html.Label("Classe")<br />
                @Html.Label("Subclasse")<br />
                @Html.Label("Série")



            </div>
        </div>

        <div class="col-lg-3">
            @Html.DropDownList("classe", new SelectList(_classes, "Registro", "Rotulo"), "---", new { @onChange = "return BindDDL(this,subclasse,'Consulta','GetSubclasses');" })<br />
            @Html.DropDownList("subclasse", new SelectList(string.Empty, "Value", "Text"), "", new { @onchange = "return BindDDL(this,serie,'Consulta','GetSeries');" })<br />
            @Html.DropDownList("serie", new SelectList(string.Empty, "Value", "Text"), "")
            <input type="submit" value="Consultar" class="btn btn-primary" />
        </div>

    </div>

    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <h3 class="panel-title">Subséries disponíveis</h3>
                </div>
                <div class="panel-body">
                    <table class="table table-striped table-hover ">
                        @foreach (LAB5GED.DOMAIN.Entidades.Subserie _grp in _subseriesDisponiveis)
                        {
                            <tr>
                                <td>@_grp.Id_subserie - @_grp.Rotulo_subserie</td>
                                <td>@Html.ActionLink("Adicionar esta Subsérie", "ConfigurarSubseries", new { _registroUsuario = Model.Registro, _registroSubserie = @_grp.Registro, _adiciona = true })</td>
                            </tr>

                        }
                    </table>
                </div>
            </div>
        </div>


        <div class="col-lg-6">

            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title">Subséries deste usuário</h3>
                </div>
                <div class="panel-body">
                    <table class="table table-striped table-hover ">
                        @foreach (LAB5GED.DOMAIN.Entidades.Subserie _grp in Model.Subseries)
                        {
                            <tr>
                                <td>@_grp.Id_subserie - @_grp.Rotulo_subserie</td>
                                <td>@Html.ActionLink("Remover esta Subsérie", "ConfigurarSubseries", new { _registroUsuario = Model.Registro, _registroSubserie = @_grp.Registro, _adiciona = false })</td>
                            </tr>

                        }
                    </table>
                </div>
            </div>
        </div>

    </div>



}


<input class="btn btn-primary" type="button" onclick="location.href='@Url.Action("Index","Usuario")'" value="Voltar" />